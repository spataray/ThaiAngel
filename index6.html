<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Age Verifier / เครื่องมือตรวจสอบอายุ</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
<style>
       :root {
           --background-color: #f4f7f9;
           --container-color: #ffffff;
           --text-color: #333;
           --primary-color: #007bff;
           --approved-color: #28a745;
           --denied-color: #dc3545;
           --neutral-color: #e9ecef;
           --border-color: #ced4da;
           --shadow-color: rgba(0, 0, 0, 0.08);
       }
       body {
           font-family: 'Poppins', 'Sarabun', sans-serif;
           display: flex;
           justify-content: center;
           align-items: center;
           height: 100vh;
           margin: 0;
           background-color: var(--background-color);
           color: var(--text-color);
       }
       .verifier-container {
           padding: 2rem;
           background-color: var(--container-color);
           border-radius: 20px;
           box-shadow: 0 10px 25px var(--shadow-color);
           width: 90%;
           max-width: 450px;
           text-align: center;
           position: relative;
       }
       .lang-switcher {
           position: absolute;
           top: 1rem;
           right: 1rem;
           display: flex;
           gap: 0.5rem;
       }
       .lang-btn {
           background-color: #e9ecef;
           border: 1px solid #ced4da;
           border-radius: 8px;
           padding: 0.25rem 0.5rem;
           cursor: pointer;
           font-size: 0.8rem;
           opacity: 0.6;
           transition: opacity 0.3s;
       }
       .lang-btn.active {
           background-color: var(--primary-color);
           color: white;
           border-color: var(--primary-color);
           opacity: 1;
       }
       h1 {
           margin-top: 2rem;
           font-weight: 700;
       }
       p {
           margin-bottom: 2rem;
           color: #6c757d;
       }
       .important-text {
           font-weight: 600;
           margin-bottom: 1rem;
           color: var(--denied-color);
       }
       .date-selector {
           display: flex;
           gap: 0.5rem;
           margin-bottom: 2rem;
       }
       .date-wheel {
           font-size: 1.1rem;
           font-family: 'Poppins', 'Sarabun', sans-serif;
           padding: 0.75rem;
           border: 1px solid var(--border-color);
           border-radius: 12px;
           width: 100%;
           box-sizing: border-box;
           background-color: #fff;
       }
       .date-wheel:disabled {
           background-color: #f8f9fa;
       }
       .result-display {
           padding: 2rem;
           border-radius: 16px;
           font-size: 2.2rem;
           font-weight: 700;
           color: white;
           background-color: var(--neutral-color);
           transition: background-color 0.4s ease, transform 0.2s ease;
           transform: scale(1);
       }
       .approved {
           background-color: var(--approved-color);
           transform: scale(1.03);
       }
       .denied {
           background-color: var(--denied-color);
           transform: scale(1.03);
       }
       /* Language Display Logic */
       .th { display: none; }
       .lang-en .en { display: inline-block; }
       .lang-en .th { display: none; }
       .lang-th .th { display: inline-block; }
       .lang-th .en { display: none; }
</style>
</head>
<body class="lang-en">
<div class="verifier-container">
<div class="lang-switcher">
<button id="lang-en-btn" class="lang-btn active" aria-label="Switch to English">EN</button>
<button id="lang-th-btn" class="lang-btn" aria-label="Switch to Thai">TH</button>
</div>
<h1>
<span class="en">Age Verifier</span>
<span class="th">เครื่องมือตรวจสอบอายุ</span>
</h1>
<p class="important-text" id="legal-date-text">
</p>
<p>
<span class="en">Select the customer's date of birth.</span>
<span class="th">กรุณาเลือกวันเกิดของลูกค้า</span>
</p>
<div class="date-selector">
<select id="year-select" class="date-wheel"></select>
<select id="month-select" class="date-wheel"></select>
<select id="day-select" class="date-wheel"></select>
</div>
<div id="result" class="result-display">
</div>
<p style="margin-top: 1rem; font-size: 0.9rem;">
<span class="en">Confirm picture matches the customer.</span>
<span class="th">ยืนยันรูปภาพตรงกับลูกค้า</span>
</p>
</div>
<script>
       document.addEventListener('DOMContentLoaded', () => {
           const body = document.body;
           const enBtn = document.getElementById('lang-en-btn');
           const thBtn = document.getElementById('lang-th-btn');
           const legalDateText = document.getElementById('legal-date-text');
           const yearSelect = document.getElementById('year-select');
           const monthSelect = document.getElementById('month-select');
           const daySelect = document.getElementById('day-select');
           const resultDiv = document.getElementById('result');
           
           const today = new Date();
           const cutoffYear = today.getFullYear() - 21;
           const cutoffMonth = today.getMonth();
           const cutoffDay = today.getDate();
           
           const monthNames = {
               en: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
               th: ["ม.ค.", "ก.พ.", "มี.ค.", "เม.ย.", "พ.ค.", "มิ.ย.", "ก.ค.", "ส.ค.", "ก.ย.", "ต.ค.", "พ.ย.", "ธ.ค."]
           };
           let currentLang = 'en';
           
           // --- LANGUAGE SWITCHER ---
           enBtn.addEventListener('click', () => setLanguage('en'));
           thBtn.addEventListener('click', () => setLanguage('th'));
           
           function setLanguage(lang) {
               currentLang = lang;
               body.className = `lang-${lang}`;
               enBtn.classList.toggle('active', lang === 'en');
               thBtn.classList.toggle('active', lang === 'th');
               initialSetup(); 
           }
           
           // --- INITIALIZATION ---
           function initialSetup() {
               const yearText = currentLang === 'en' ? 'Year' : 'ปี';
               const monthText = currentLang === 'en' ? 'Month' : 'เดือน';
               const dayText = currentLang === 'en' ? 'Day' : 'วัน';
               
               // Set the legal date verbiage
               const cutoffDate = new Date(cutoffYear, cutoffMonth, cutoffDay);
               const cutoffDateFormatted = cutoffDate.toLocaleDateString('en-US', {
                   month: 'long', day: 'numeric', year: 'numeric'
               });
               legalDateText.innerHTML = `
                   <span class="en">Legal to drink if born on or before <br/><strong>${cutoffDateFormatted}</strong></span>
                   <span class="th">สามารถดื่มได้หากเกิดในหรือก่อนวันที่ <br/><strong>${cutoffDateFormatted}</strong></span>
               `;
               
               // Populate year dropdown defaulting to cutoffYear
               yearSelect.innerHTML = `<option value="" selected disabled>${yearText}</option>`;
               for (let i = today.getFullYear(); i >= 1920; i--) {
                   const option = new Option(i, i);
                   if (i === cutoffYear) {
                       option.selected = true;
                   }
                   yearSelect.add(option);
               }
               
               // Pre-populate months and days, then check initial state
               populateMonths(11);
               populateDays(cutoffYear, 0); // Populate for a default month to show options
               
               handleDateChange();
           }
           
           // --- EVENT LISTENERS ---
           yearSelect.addEventListener('change', handleDateChange);
           monthSelect.addEventListener('change', handleDateChange);
           daySelect.addEventListener('change', handleDateChange);
           
           // --- HANDLER FUNCTION ---
           function handleDateChange() {
               const year = parseInt(yearSelect.value);
               const month = parseInt(monthSelect.value);
               const day = parseInt(daySelect.value);
               
               // Enable/disable day dropdown based on month selection
               daySelect.disabled = isNaN(month);
               
               // If all fields are not selected, show neutral state
               if (isNaN(year) || isNaN(month) || isNaN(day)) {
                   setNeutral();
                   return;
               }
               
               if (year < cutoffYear ||
                   (year === cutoffYear && month < cutoffMonth) ||
                   (year === cutoffYear && month === cutoffMonth && day <= cutoffDay)) {
                   setApproved();
               } else {
                   setDenied();
               }
           }
           
           // --- HELPER & UI FUNCTIONS ---
           function populateMonths(lastAllowedMonth) {
               const monthText = currentLang === 'en' ? 'Month' : 'เดือน';
               monthSelect.innerHTML = `<option value="" selected disabled>${monthText}</option>`;
               for (let i = 0; i <= lastAllowedMonth; i++) {
                   const monthStr = (i + 1).toString().padStart(2, '0');
                   const optionText = `${monthStr}-${monthNames.en[i]}`;
                   monthSelect.add(new Option(optionText, i));
               }
               monthSelect.disabled = false;
           }
           
           function populateDays(year, month) {
               const dayText = currentLang === 'en' ? 'Day' : 'วัน';
               daySelect.innerHTML = `<option value="" selected disabled>${dayText}</option>`;
               if (isNaN(year) || isNaN(month)) return;
               
               const daysInMonth = new Date(year, month + 1, 0).getDate();
               for (let i = 1; i <= daysInMonth; i++) {
                   daySelect.add(new Option(i, i));
               }
           }
           
           function setApproved() {
               resultDiv.className = 'result-display approved';
               resultDiv.textContent = 'APPROVED';
           }
           
           function setDenied() {
               resultDiv.className = 'result-display denied';
               resultDiv.textContent = 'UNDERAGE';
           }
           
           function setNeutral() {
               resultDiv.className = 'result-display';
               resultDiv.textContent = '';
           }
           
           // Initial population on page load
           initialSetup();
       });
</script>
</body>
</html>
